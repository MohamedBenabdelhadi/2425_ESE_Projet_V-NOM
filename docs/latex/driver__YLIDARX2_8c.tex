\doxysection{/home/oliver/\+Documents/3\+A/2425\+\_\+\+ESE\+\_\+\+Projet\+\_\+\+V-\/\+NOM/\+Projet\+\_\+\+V-\/\+NOM\+\_\+\+STM32/\+Core/drivers/driver\+\_\+\+YLIDARX2.c File Reference}
\hypertarget{driver__YLIDARX2_8c}{}\label{driver__YLIDARX2_8c}\index{/home/oliver/Documents/3A/2425\_ESE\_Projet\_V-\/NOM/Projet\_V-\/NOM\_STM32/Core/drivers/driver\_YLIDARX2.c@{/home/oliver/Documents/3A/2425\_ESE\_Projet\_V-\/NOM/Projet\_V-\/NOM\_STM32/Core/drivers/driver\_YLIDARX2.c}}


Implementation of the YDLIDAR X2 driver.  


{\ttfamily \#include "{}driver\+\_\+\+YLIDARX2.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
Include dependency graph for driver\+\_\+\+YLIDARX2.\+c\+:
% FIG 0
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{driver__YLIDARX2_8c_ad72dbcf6d0153db1b8d8a58001feed83}{DEBUG}}~1
\item 
\#define \mbox{\hyperlink{driver__YLIDARX2_8c_a88edd2aa4feabff4af21a997d5d8aa23}{DEBUG\+\_\+\+PRINT}}(...)~printf(\+\_\+\+\_\+\+VA\+\_\+\+ARGS\+\_\+\+\_\+)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{driver__YLIDARX2_8c_a763cead40ecca92b7b3416d894686709}{YLIDARX2\+\_\+\+Init\+DMA}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar, UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}huart)
\begin{DoxyCompactList}\small\item\em Initialize the YDLIDAR X2 driver with DMA. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8c_a242f78691663fad7e5b74671a38b8942}{YLIDARX2\+\_\+\+Restart\+DMA}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar)
\item 
void \mbox{\hyperlink{driver__YLIDARX2_8c_a93def8b27b98e3f7c450d1ac3bbd45a9}{YLIDARX2\+\_\+\+Process\+DMAHalf\+Complete}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar)
\begin{DoxyCompactList}\small\item\em Process the first half of the DMA buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8c_a849a62d7f79669b165d9a8aa50796b25}{YLIDARX2\+\_\+\+Process\+DMAComplete}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar)
\begin{DoxyCompactList}\small\item\em Process the second half of the DMA buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8c_a80962194ceb6d474ed1dbb0db25032f2}{YLIDARX2\+\_\+\+Process\+Buffer}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar, uint16\+\_\+t start, uint16\+\_\+t end)
\begin{DoxyCompactList}\small\item\em Process a portion of the DMA buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of the YDLIDAR X2 driver. 

Handles initialization, data reception via DMA, and processing of LIDAR frames.

\begin{DoxyDate}{Date}
Jan 3, 2025 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Oliver 
\end{DoxyAuthor}


Definition in file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.



\doxysubsection{Macro Definition Documentation}
\Hypertarget{driver__YLIDARX2_8c_ad72dbcf6d0153db1b8d8a58001feed83}\label{driver__YLIDARX2_8c_ad72dbcf6d0153db1b8d8a58001feed83} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!DEBUG@{DEBUG}}
\index{DEBUG@{DEBUG}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{DEBUG}{DEBUG}}
{\footnotesize\ttfamily \#define DEBUG~1}

Enable or disable debug logs 

Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00016}{16}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

\Hypertarget{driver__YLIDARX2_8c_a88edd2aa4feabff4af21a997d5d8aa23}\label{driver__YLIDARX2_8c_a88edd2aa4feabff4af21a997d5d8aa23} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!DEBUG\_PRINT@{DEBUG\_PRINT}}
\index{DEBUG\_PRINT@{DEBUG\_PRINT}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{DEBUG\_PRINT}{DEBUG\_PRINT}}
{\footnotesize\ttfamily \#define DEBUG\+\_\+\+PRINT(\begin{DoxyParamCaption}\item[{}]{... }\end{DoxyParamCaption})~printf(\+\_\+\+\_\+\+VA\+\_\+\+ARGS\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00019}{19}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{driver__YLIDARX2_8c_a763cead40ecca92b7b3416d894686709}\label{driver__YLIDARX2_8c_a763cead40ecca92b7b3416d894686709} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!YLIDARX2\_InitDMA@{YLIDARX2\_InitDMA}}
\index{YLIDARX2\_InitDMA@{YLIDARX2\_InitDMA}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_InitDMA()}{YLIDARX2\_InitDMA()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Init\+DMA (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar,  }\item[{UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}}]{huart }\end{DoxyParamCaption})}



Initialize the YDLIDAR X2 driver with DMA. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
{\em huart} & UART handle for communication. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00034}{34}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the caller graph for this function\+:
% FIG 1
\Hypertarget{driver__YLIDARX2_8c_a80962194ceb6d474ed1dbb0db25032f2}\label{driver__YLIDARX2_8c_a80962194ceb6d474ed1dbb0db25032f2} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!YLIDARX2\_ProcessBuffer@{YLIDARX2\_ProcessBuffer}}
\index{YLIDARX2\_ProcessBuffer@{YLIDARX2\_ProcessBuffer}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessBuffer()}{YLIDARX2\_ProcessBuffer()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar,  }\item[{uint16\+\_\+t}]{start,  }\item[{uint16\+\_\+t}]{end }\end{DoxyParamCaption})}



Process a portion of the DMA buffer. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
{\em start} & Start index of the buffer to process. \\
\hline
{\em end} & End index of the buffer to process. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00063}{63}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the caller graph for this function\+:
% FIG 2
\Hypertarget{driver__YLIDARX2_8c_a849a62d7f79669b165d9a8aa50796b25}\label{driver__YLIDARX2_8c_a849a62d7f79669b165d9a8aa50796b25} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!YLIDARX2\_ProcessDMAComplete@{YLIDARX2\_ProcessDMAComplete}}
\index{YLIDARX2\_ProcessDMAComplete@{YLIDARX2\_ProcessDMAComplete}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessDMAComplete()}{YLIDARX2\_ProcessDMAComplete()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+DMAComplete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar }\end{DoxyParamCaption})}



Process the second half of the DMA buffer. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00059}{59}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the call graph for this function\+:
% FIG 3
Here is the caller graph for this function\+:
% FIG 4
\Hypertarget{driver__YLIDARX2_8c_a93def8b27b98e3f7c450d1ac3bbd45a9}\label{driver__YLIDARX2_8c_a93def8b27b98e3f7c450d1ac3bbd45a9} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!YLIDARX2\_ProcessDMAHalfComplete@{YLIDARX2\_ProcessDMAHalfComplete}}
\index{YLIDARX2\_ProcessDMAHalfComplete@{YLIDARX2\_ProcessDMAHalfComplete}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessDMAHalfComplete()}{YLIDARX2\_ProcessDMAHalfComplete()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+DMAHalf\+Complete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar }\end{DoxyParamCaption})}



Process the first half of the DMA buffer. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00055}{55}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the call graph for this function\+:
% FIG 5
Here is the caller graph for this function\+:
% FIG 6
\Hypertarget{driver__YLIDARX2_8c_a242f78691663fad7e5b74671a38b8942}\label{driver__YLIDARX2_8c_a242f78691663fad7e5b74671a38b8942} 
\index{driver\_YLIDARX2.c@{driver\_YLIDARX2.c}!YLIDARX2\_RestartDMA@{YLIDARX2\_RestartDMA}}
\index{YLIDARX2\_RestartDMA@{YLIDARX2\_RestartDMA}!driver\_YLIDARX2.c@{driver\_YLIDARX2.c}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_RestartDMA()}{YLIDARX2\_RestartDMA()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Restart\+DMA (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00046}{46}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the call graph for this function\+:
% FIG 7
