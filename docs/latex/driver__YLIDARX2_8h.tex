\doxysection{/home/oliver/\+Documents/3\+A/2425\+\_\+\+ESE\+\_\+\+Projet\+\_\+\+V-\/\+NOM/\+Projet\+\_\+\+V-\/\+NOM\+\_\+\+STM32/\+Core/drivers/driver\+\_\+\+YLIDARX2.h File Reference}
\hypertarget{driver__YLIDARX2_8h}{}\label{driver__YLIDARX2_8h}\index{/home/oliver/Documents/3A/2425\_ESE\_Projet\_V-\/NOM/Projet\_V-\/NOM\_STM32/Core/drivers/driver\_YLIDARX2.h@{/home/oliver/Documents/3A/2425\_ESE\_Projet\_V-\/NOM/Projet\_V-\/NOM\_STM32/Core/drivers/driver\_YLIDARX2.h}}


Header file for the YDLIDAR X2 driver.  


{\ttfamily \#include "{}usart.\+h"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
Include dependency graph for driver\+\_\+\+YLIDARX2.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structYLIDARX2__Point__t}{YLIDARX2\+\_\+\+Point\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure to hold individual LIDAR point data. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Structure to hold LIDAR state and data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{driver__YLIDARX2_8h_a9b08f201880f08d1b268f723b138bca0}{YLIDARX2\+\_\+\+DMA\+\_\+\+BUFFER\+\_\+\+SIZE}}~1000
\item 
\#define \mbox{\hyperlink{driver__YLIDARX2_8h_a2baf69d5741479065f9e385ccd2faf8f}{YLIDARX2\+\_\+\+MAX\+\_\+\+POINTS}}~500
\item 
\#define \mbox{\hyperlink{driver__YLIDARX2_8h_a1aa8b6627486da5c445e6bdbe5c2ed0b}{PACKET\+\_\+\+HEADER}}~0x55\+AA
\item 
\#define \mbox{\hyperlink{driver__YLIDARX2_8h_afee58d787f4e5ebb6de7d7eec1621d14}{FRAME\+\_\+\+LENGTH\+\_\+\+MIN}}~7
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{driver__YLIDARX2_8h_a763cead40ecca92b7b3416d894686709}{YLIDARX2\+\_\+\+Init\+DMA}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar, UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}huart)
\begin{DoxyCompactList}\small\item\em Initialize the YDLIDAR X2 driver with DMA. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8h_a242f78691663fad7e5b74671a38b8942}{YLIDARX2\+\_\+\+Restart\+DMA}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar)
\item 
void \mbox{\hyperlink{driver__YLIDARX2_8h_a93def8b27b98e3f7c450d1ac3bbd45a9}{YLIDARX2\+\_\+\+Process\+DMAHalf\+Complete}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar)
\begin{DoxyCompactList}\small\item\em Process the first half of the DMA buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8h_a849a62d7f79669b165d9a8aa50796b25}{YLIDARX2\+\_\+\+Process\+DMAComplete}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar)
\begin{DoxyCompactList}\small\item\em Process the second half of the DMA buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8h_a80962194ceb6d474ed1dbb0db25032f2}{YLIDARX2\+\_\+\+Process\+Buffer}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar, uint16\+\_\+t start, uint16\+\_\+t end)
\begin{DoxyCompactList}\small\item\em Process a portion of the DMA buffer. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{driver__YLIDARX2_8h_aae3a4bf21daa29e6d19c8b209bda693a}{YLIDARX2\+\_\+\+Validate\+Checksum}} (const uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Validate the checksum of a LIDAR frame. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{driver__YLIDARX2_8h_a1428d8ff5ef4c6e4d90fe31050fa59cc}{YLIDARX2\+\_\+\+Process\+Frame}} (\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}lidar, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}frame)
\begin{DoxyCompactList}\small\item\em Process a single LIDAR frame. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for the YDLIDAR X2 driver. 

Provides definitions and function prototypes for initializing, processing, and handling YDLIDAR X2 data using DMA.

\begin{DoxyDate}{Date}
Jan 3, 2025 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Oliver 
\end{DoxyAuthor}


Definition in file \mbox{\hyperlink{driver__YLIDARX2_8h_source}{driver\+\_\+\+YLIDARX2.\+h}}.



\doxysubsection{Macro Definition Documentation}
\Hypertarget{driver__YLIDARX2_8h_afee58d787f4e5ebb6de7d7eec1621d14}\label{driver__YLIDARX2_8h_afee58d787f4e5ebb6de7d7eec1621d14} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!FRAME\_LENGTH\_MIN@{FRAME\_LENGTH\_MIN}}
\index{FRAME\_LENGTH\_MIN@{FRAME\_LENGTH\_MIN}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{FRAME\_LENGTH\_MIN}{FRAME\_LENGTH\_MIN}}
{\footnotesize\ttfamily \#define FRAME\+\_\+\+LENGTH\+\_\+\+MIN~7}

Minimum frame length in bytes 

Definition at line \mbox{\hyperlink{driver__YLIDARX2_8h_source_l00022}{22}} of file \mbox{\hyperlink{driver__YLIDARX2_8h_source}{driver\+\_\+\+YLIDARX2.\+h}}.

\Hypertarget{driver__YLIDARX2_8h_a1aa8b6627486da5c445e6bdbe5c2ed0b}\label{driver__YLIDARX2_8h_a1aa8b6627486da5c445e6bdbe5c2ed0b} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!PACKET\_HEADER@{PACKET\_HEADER}}
\index{PACKET\_HEADER@{PACKET\_HEADER}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{PACKET\_HEADER}{PACKET\_HEADER}}
{\footnotesize\ttfamily \#define PACKET\+\_\+\+HEADER~0x55\+AA}

Frame header identifier 

Definition at line \mbox{\hyperlink{driver__YLIDARX2_8h_source_l00021}{21}} of file \mbox{\hyperlink{driver__YLIDARX2_8h_source}{driver\+\_\+\+YLIDARX2.\+h}}.

\Hypertarget{driver__YLIDARX2_8h_a9b08f201880f08d1b268f723b138bca0}\label{driver__YLIDARX2_8h_a9b08f201880f08d1b268f723b138bca0} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_DMA\_BUFFER\_SIZE@{YLIDARX2\_DMA\_BUFFER\_SIZE}}
\index{YLIDARX2\_DMA\_BUFFER\_SIZE@{YLIDARX2\_DMA\_BUFFER\_SIZE}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_DMA\_BUFFER\_SIZE}{YLIDARX2\_DMA\_BUFFER\_SIZE}}
{\footnotesize\ttfamily \#define YLIDARX2\+\_\+\+DMA\+\_\+\+BUFFER\+\_\+\+SIZE~1000}

DMA buffer size for UART reception 

Definition at line \mbox{\hyperlink{driver__YLIDARX2_8h_source_l00019}{19}} of file \mbox{\hyperlink{driver__YLIDARX2_8h_source}{driver\+\_\+\+YLIDARX2.\+h}}.

\Hypertarget{driver__YLIDARX2_8h_a2baf69d5741479065f9e385ccd2faf8f}\label{driver__YLIDARX2_8h_a2baf69d5741479065f9e385ccd2faf8f} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_MAX\_POINTS@{YLIDARX2\_MAX\_POINTS}}
\index{YLIDARX2\_MAX\_POINTS@{YLIDARX2\_MAX\_POINTS}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_MAX\_POINTS}{YLIDARX2\_MAX\_POINTS}}
{\footnotesize\ttfamily \#define YLIDARX2\+\_\+\+MAX\+\_\+\+POINTS~500}

Maximum number of processed points stored 

Definition at line \mbox{\hyperlink{driver__YLIDARX2_8h_source_l00020}{20}} of file \mbox{\hyperlink{driver__YLIDARX2_8h_source}{driver\+\_\+\+YLIDARX2.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{driver__YLIDARX2_8h_a763cead40ecca92b7b3416d894686709}\label{driver__YLIDARX2_8h_a763cead40ecca92b7b3416d894686709} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_InitDMA@{YLIDARX2\_InitDMA}}
\index{YLIDARX2\_InitDMA@{YLIDARX2\_InitDMA}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_InitDMA()}{YLIDARX2\_InitDMA()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Init\+DMA (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar,  }\item[{UART\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}}]{huart }\end{DoxyParamCaption})}



Initialize the YDLIDAR X2 driver with DMA. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
{\em huart} & UART handle for communication. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00034}{34}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the caller graph for this function\+:
% FIG 2
\Hypertarget{driver__YLIDARX2_8h_a80962194ceb6d474ed1dbb0db25032f2}\label{driver__YLIDARX2_8h_a80962194ceb6d474ed1dbb0db25032f2} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_ProcessBuffer@{YLIDARX2\_ProcessBuffer}}
\index{YLIDARX2\_ProcessBuffer@{YLIDARX2\_ProcessBuffer}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessBuffer()}{YLIDARX2\_ProcessBuffer()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar,  }\item[{uint16\+\_\+t}]{start,  }\item[{uint16\+\_\+t}]{end }\end{DoxyParamCaption})}



Process a portion of the DMA buffer. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
{\em start} & Start index of the buffer to process. \\
\hline
{\em end} & End index of the buffer to process. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00063}{63}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the caller graph for this function\+:
% FIG 3
\Hypertarget{driver__YLIDARX2_8h_a849a62d7f79669b165d9a8aa50796b25}\label{driver__YLIDARX2_8h_a849a62d7f79669b165d9a8aa50796b25} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_ProcessDMAComplete@{YLIDARX2\_ProcessDMAComplete}}
\index{YLIDARX2\_ProcessDMAComplete@{YLIDARX2\_ProcessDMAComplete}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessDMAComplete()}{YLIDARX2\_ProcessDMAComplete()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+DMAComplete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar }\end{DoxyParamCaption})}



Process the second half of the DMA buffer. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00059}{59}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\Hypertarget{driver__YLIDARX2_8h_a93def8b27b98e3f7c450d1ac3bbd45a9}\label{driver__YLIDARX2_8h_a93def8b27b98e3f7c450d1ac3bbd45a9} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_ProcessDMAHalfComplete@{YLIDARX2\_ProcessDMAHalfComplete}}
\index{YLIDARX2\_ProcessDMAHalfComplete@{YLIDARX2\_ProcessDMAHalfComplete}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessDMAHalfComplete()}{YLIDARX2\_ProcessDMAHalfComplete()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+DMAHalf\+Complete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar }\end{DoxyParamCaption})}



Process the first half of the DMA buffer. 


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00055}{55}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the call graph for this function\+:
% FIG 6
Here is the caller graph for this function\+:
% FIG 7
\Hypertarget{driver__YLIDARX2_8h_a1428d8ff5ef4c6e4d90fe31050fa59cc}\label{driver__YLIDARX2_8h_a1428d8ff5ef4c6e4d90fe31050fa59cc} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_ProcessFrame@{YLIDARX2\_ProcessFrame}}
\index{YLIDARX2\_ProcessFrame@{YLIDARX2\_ProcessFrame}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ProcessFrame()}{YLIDARX2\_ProcessFrame()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Process\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar,  }\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{frame }\end{DoxyParamCaption})}



Process a single LIDAR frame. 

Extracts angle, distance, and intensity from the frame.


\begin{DoxyParams}{Parameters}
{\em lidar} & Pointer to the YDLIDARX2\+\_\+t structure. \\
\hline
{\em frame} & Pointer to the frame data. \\
\hline
\end{DoxyParams}
\Hypertarget{driver__YLIDARX2_8h_a242f78691663fad7e5b74671a38b8942}\label{driver__YLIDARX2_8h_a242f78691663fad7e5b74671a38b8942} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_RestartDMA@{YLIDARX2\_RestartDMA}}
\index{YLIDARX2\_RestartDMA@{YLIDARX2\_RestartDMA}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_RestartDMA()}{YLIDARX2\_RestartDMA()}}
{\footnotesize\ttfamily void YLIDARX2\+\_\+\+Restart\+DMA (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structh__YLIDARX2__t}{h\+\_\+\+YLIDARX2\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{lidar }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{driver__YLIDARX2_8c_source_l00046}{46}} of file \mbox{\hyperlink{driver__YLIDARX2_8c_source}{driver\+\_\+\+YLIDARX2.\+c}}.

Here is the call graph for this function\+:
% FIG 8
\Hypertarget{driver__YLIDARX2_8h_aae3a4bf21daa29e6d19c8b209bda693a}\label{driver__YLIDARX2_8h_aae3a4bf21daa29e6d19c8b209bda693a} 
\index{driver\_YLIDARX2.h@{driver\_YLIDARX2.h}!YLIDARX2\_ValidateChecksum@{YLIDARX2\_ValidateChecksum}}
\index{YLIDARX2\_ValidateChecksum@{YLIDARX2\_ValidateChecksum}!driver\_YLIDARX2.h@{driver\_YLIDARX2.h}}
\doxysubsubsection{\texorpdfstring{YLIDARX2\_ValidateChecksum()}{YLIDARX2\_ValidateChecksum()}}
{\footnotesize\ttfamily bool YLIDARX2\+\_\+\+Validate\+Checksum (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{data,  }\item[{uint16\+\_\+t}]{length }\end{DoxyParamCaption})}



Validate the checksum of a LIDAR frame. 


\begin{DoxyParams}{Parameters}
{\em data} & Pointer to the frame data. \\
\hline
{\em length} & Length of the frame. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the checksum is valid, false otherwise. 
\end{DoxyReturn}
